<?php header('Cache-Control: max-age=31536000, public'); ?>

<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Zone:X - Mobile</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link type="text/css" rel="stylesheet" href="main.css">
            <div id="allText">
                <div id="HK"></div>
                <div id="textWindow"></div>
            <script src="hotkeys.js"></script>

            
            
            <div class="navbar">
                <div class="dropdown">
                  <button class="dropbtn">Starship
                    <i class="fa fa-caret-down"></i>
                  </button>
                  <div class="dropdown-content">
                      
                      <input type="checkbox" id="Star Arms" name="t"  onclick= "
                          key  = ' ';
                          callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                       <label for="Star Arms">Star Arms!</label><br>
                       <input type="checkbox" id="Fullscreen" name="t"  onclick= "
                           key  = 'H';
                           callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                        <label for="Fullscreen">Fullscreen!</label><br>
                        <input type="checkbox" id="Verbose" name="t"  onclick= "
                            key  = 'V';
                            callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                         <label for="Verbose">Verbose!</label><br>
                       <input type="checkbox" id="Volume Speed" name="t"  onclick= "
                           key  = 'W';
                           callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                        <label for="Volume Speed">Volume Speed!</label><br>
                        
                      <input type="checkbox" id="Touch" name="t"  onclick= "
                          key  = 'T';
                          callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                       <label for="Touch">Touch!</label><br>
                       <a id="Cancel Background Noise" name="t"  onclick= "
                           
                           key  = 'P';
                           callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                           Cancel Background Noise!</a><br>
                       <a id="Listen Out" name="t"  onclick= "
                           key  = 'O';
                           callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                       listen Out!</a><br>
                       <a id="Listen In" name="t"  onclick= "
                           key  = 'I';
                           callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                       listen In!</a><br>
                       
                       
                       <a id="Faster" name="t"  onclick= "
                           key  = '+';
                           callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                       Faster!</a><br>
                       <a id="Slower" name="t"  onclick= "
                           key  = '-';
                           callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                       Slower!</a><br>
                       <a id="Reset Speed" name="t"  onclick= "
                           key  = '0';
                           callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                       Reset Speed!</a><br>
                       
                  </div>
                  </div>
                <div class="dropdown">
                  <button class="dropbtn">Clovers
                    <i class="fa fa-caret-down"></i>
                  </button>
                  <div class="dropdown-content">
                      
                         <a id="Add a petal" name="t"  onclick= "
                             key  = 'U';
                             callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                         Add a petal!</a><br>
                         <a id="Remove a petal" name="t"  onclick= "
                             key  = 'Y';
                             callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                         Remove a petal!</a><br>
                        <input type="checkbox" id="Center" name="t"  onclick= "
                            key  = 'C';
                            callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                         <label for="Center">Center</label><br>
                         <input type="checkbox" id="Zoom Static" name="t"  onclick= "
                             key  = 'L';
                             callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                          <label for="Zoom Static">Zoom Static</label><br>
                          <input type="checkbox" id="Clovers Pop" name="t"  onclick= "
                              key  = 'N';
                              callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                           <label for="Clovers Pop">Clovers Pop?!</label><br>
                           <input type="checkbox" id="Dancer" name="t"  onclick= "
                               key  = 'S';
                               callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                            <label for="Dancer">Dancer!</label><br>
                            
                                 <input type="checkbox" id="Reverse Colors" name="t"  onclick= "
                                     key  = ';';
                                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                                  <label for="Reverse Colors">Reverse Colors!</label><br>

                        <form>
                            
                              <input type="radio" id="OriginalOrange" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=7;">
                              <label for="OriginalOrange">Original Orange!</label><br>
                          <input type="radio" id="GreenAndPink" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=2;">
                          <label for="GreenAndPink">Green and Pink!</label><br>
                          <input type="radio" id="OddOrange" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=3;">
                          <label for="OddOrange">Odd Orange!</label><br>
                          <input type="radio" id="YellowAndPurple" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=4;">
                          <label for="YellowAndPurple">Yellow and Purple!</label><br>
                          
                          <input type="radio" id="BlueAndPink" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=5;">
                          <label for="BlueAndPink">Blue and Pink!</label><br>
                          
                          <input type="radio" id="Glowing" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=6;">
                          <label for="Glowing">Glowing!</label><br>
                          
                            <input type="radio" id="Rainbow" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=1;">
                            <label for="Rainbow">Rainbow!</label><br>
                        </form>
                        
                        <br>

                        
                        <form>
                          <input type="radio" id="Up" name="carousel" onclick="uniforms[ 'carousel' ].value=-1;">
                          <label for="Up">Carousel Up!</label><br>
                          <input type="radio" id="Down" name="carousel" onclick="uniforms[ 'carousel' ].value=1;">
                          <label for="Down">Carousel Down!</label><br>
                          <input type="radio" id="Off" name="carousel" onclick="uniforms[ 'carousel' ].value=0;">
                          <label for="Off">Carousel Off</label>
                          
                        </form>
                        <br>

                        <form>
                          <input type="radio" id="mUp" name="mcarousel" onclick="uniforms[ 'metaCarousel' ].value=-1;">
                          <label for="mUp">Meta-Carousel Wise One!</label><br>
                          <input type="radio" id="mDown" name="mcarousel" onclick="uniforms[ 'metaCarousel' ].value=1;">
                          <label for="mDown">Meta-Carousel Wise 2!</label><br>
                          <input type="radio" id="mOff" name="mcarousel" onclick="uniforms[ 'metaCarousel' ].value=0;">
                          <label for="mOff">Meta-Carousel Off</label>
                        </form>
                        <br>

                    <form>
                      <input type="radio" id="SpirallizeOriginal" name="Spirallize" onclick="uniforms[ 'spirated' ].value=1;">
                      <label for="SpirallizeOriginal">Spirallize Original!</label><br>
                      <input type="radio" id="SpirallizeMirror" name="Spirallize" onclick="uniforms[ 'spirated' ].value=-1;">
                      <label for="SpirallizeMirror">Spirallize Mirror!</label><br>
                      <input type="radio" id="SpirallizeOff" name="Spirallize" onclick="uniforms[ 'spirated' ].value=0;">
                      <label for="SpirallizeOff">Spirallize Off</label>
                      
                    </form>
                    
                              </div>
                </div>
            </div>

                    
                </div>
                  
                  <script>let n = document.getElementsByName('t');
                      for(var p = 0; p<n.length;p++)n[p].checked  = false; </script>
        <div id="container"></div>
        <script src="OFFLINEonlineSwitch.js"></script>


        
        
   
            
            
            
            
        <script src="starshipMod.js"></script>

</head>
<body>
    <!--SPLASH-->
    <div class=onofflineBG id="background_wrap"></div>
    <script>
        nf = document.querySelectorAll('.onofflineBG');
        if(window.online)nf[0].style = "background-image: url('https://cdn.jsdelivr.net/gh/Z1X1Z/zonex_jsdelivr@6/z1xlogo.png');"
        else nf[0].style = "background-image: url('z1xlogo.png');"
    </script>

<script id="threeJSscript" async></script>
<script id="wadJSscript" async></script>
<script src="wadLoader.js"></script>
<script src="threeJSLoader.js"async></script>

        <script id="vertexShader" type="x-shader/x-vertex">

                varying vec2 vUv;

            void main()    {
  
                vUv = uv;
                gl_Position = vec4( position, 1.0 );
            }
        </script>

        <script id="fragmentShader" type="x-shader/x-fragment">

            varying vec2 vUv;
            uniform vec2 coords;
            uniform vec2 resolution;
               
            uniform int colorCombo;
            uniform bool colorInverter;

            uniform float time;
            uniform float rate;
            uniform float zoom;
            uniform float metronome;

            uniform float time2dance;
            uniform int fourCreats;

            
            uniform bool MetaCored;
            uniform bool free;
            
            uniform float morph;
            
            uniform float carousel;
            uniform float metaCarousel;
            uniform float petals;
            
            uniform float spirated;
            
            uniform bool hearTOL;

            const float gr = 1.6180339;
            float zin(float x){return -sin(x);}
            float coz(float x){return -cos(x);}

          vec3 heart(vec2 g, vec2 t){
              g.x-=.5;
              g.y*=-1.;
              vec2 z=g.xy;
          vec3 h=vec3(0.);
              for (int f=0;f<60;f+=1)if(abs(z.y+z.x)>2.){h=vec3(0.);break;}
              else {z=vec2(((z.x*z.x-z.y*z.y)-g.x+t.x),(2.0*z.x*z.y-g.y+t.y*4.));//mandelbrot loop factored into real and imaginary components from z<=z^2-g
                h+=vec3(z.x*z.y,z.x,z.y)/21.;}
          return h;
          }
              vec3 face(vec2 g, vec2 t){
              float l = 1.;
              g*=2.;
              vec2 z=g.xy;
              if(g.x*g.x+g.y*g.y<40.)for (int f=0;f<21;f+=1)if(abs(z.y)>21.&&(f==1||f>3)){
                  if (f==1){l=1.;break;}
                  l=1.-length(z)/40.;//clouds and face
                  break;}
              else{
                  z=vec2(-1./(z.x*z.x-z.y*z.y-g.x),2.0*z.x*z.y-g.y);
                  l=abs(z.y)*6.;//smooths middle horn, removes some clouds
                  if(z.x>-.1)l=z.x*50.;}//face with closed small holes
              return vec3(clamp(1.-l,0.,1.));
              }

         vec3 shiny(vec2 p,vec2 t){
            p*=2.;
             vec2 s = p;
             float l=0., d = 0., negator = 1.;
                 for (int f=0;f<21;f+=1)
                 if(abs(s.y)>21.&&(f==1||f>2)){
                     l=1.-length(s)/40.;
                     if (f == 1)
                             negator=0.;
                     else
                             d+=length(s)/10.;
                     break;
                 }
                 else{
                     s=vec2(-1./(s.x*s.x-s.y*s.y-p.x), 2.0*s.x*s.y-p.y);
                     l=abs(s.y)*3.5;//refines middle horn, optional
                     if(s.x>-.1)l=s.x*50.;//closes small holes
                     d+=length(s)/10.;
                 }
                 if (l>.54) negator = 0.;
                 return vec3(-sin(d +t.x*3.+6.28318/3.),-sin(d+t.x*3.+6.28318*5./3.),-sin(d+t.x*3.))*5.*negator;
         }


                        vec2 freed(vec2 p){
                            if(free){
                                float shift = 3.;
                                p+=shift/2.;
                                p=(mod(abs(p),shift));
                                p-=shift/2.;
                            }
                            return p;
                            }
                        
                            vec3 torso(vec2 g, vec2 t){
                            float b = 0.;
                            vec2 z=g.xy;
                            if(g.x*g.x+g.y*g.y<40.)if (g.x>0.)for(int f=0;f<12;f+=1)if(abs(z.y)>52.&&f>4){b=abs(z.y)/77.;break;}
                            else{
                                z=2.*vec2(-1./(z.x*z.x-z.y*z.y-g.x),(2.0*z.x*z.y-g.y+t.y));
                                z.x=sqrt(abs(z.x));}
                            return vec3(b,b/2.5,0.);
                            }
                            vec3 musculature(vec2 g, vec2 t){
                            float m=0.;
                            g.x+=.54;
                            vec2 z=g.xy;
                            if(g.x>1.25&&abs(g.y)<2.5)for(int f=0;f<15;f+=1)if(abs(z.y)>15.&&f>7&&f!=15){m=abs(z.y)/25.;break;}
                            else {
                                z=1.3*vec2(-1.5/((z.x*z.x-2.*z.y*z.y)-g.x),(1.9*z.x*z.y-1.87*g.y+t.y/4.));
                                z.x=pow(abs(z.x),.57);}
                            return vec3(m,m,m/2.);
                            }
                            vec3 robe(vec2 g, vec2 t){
                            float r=0.;
                            g.x+=.05;
                            g.y/=1.14;
                            vec2 z=g.xy;
                            if(g.x>.5 &&abs(g.y)<1.)for(int f=0;f<70;f+=1)if(abs(z.y)>11.&&f>7){r=clamp(1.4-abs(g.x-2.3)
                                             //*(1.-abs(g.y*g.x))-.07//(un)comment this line to toggle sleeves
                                            ,0.,1.);break;}
                            else{
                                z=1.1*vec2(-2./((z.x*z.x-1.8*z.y*z.y)-g.x),(3.*z.x*z.y-1.3*g.y+t.y));;
                                z.x=pow(abs(z.x),.8);}
                            return vec3(r);
                            }
                            vec3 legs(vec2 g, vec2 t){
                            float b=0.;
                            g/=2.;
                            vec2 z=g.xy;
                            if(g.x>.75&&g.x<1.7&&abs(g.y*g.x)<.54)for(int f=0;f<8;f+=1)if(abs(z.x)>52.&&f>1){b=abs(z.x)/70.;break;}
                            else{
                                z=3.*vec2(-1./(z.x*z.x-z.y*z.y-g.x),77.*z.x*z.y-g.y+t.y);
                                z.y=-1./z.y;}
                            return vec3(b/2.,b,b/2.);
                            }

                                          
                                          
                        vec2 spin2(vec2 f, float t)
                        {    //https://en.wikipedia.org/wiki/Rotation_matrix
                            float angle =t;
                            float fxb=f.x;
                            f.x=f.x*cos(angle)-f.y*sin(angle);
                         f.y=fxb*sin(angle)+f.y*cos(angle);
                         return f;
                        }
                        vec2 jc =vec2(0.);// vec2 jc =vec2(-0.5577,- 0.6099);//you can feed in coordinates for p movement to get different cloverfields

                        vec3 tol(vec2 p, vec2 t){
                                    p=p.yx;
                             float precores = 0.49;
                             if(spirated!=0.) precores = 1.;
                             if(spirated>-.5) p.y*=-1.;
                             float cored = log(zoom*3./2.)/log(.5)+1.+precores;
                             float c = length(p);
                             float loops=1.;
                              vec2 s=p;
                             if(MetaCored)for(int i=1;i<60; i++)if(c<2./3.&&loops<cored){s*=2.;c*=2.;loops++;}else break;
                             loops=0.;
                             float hyperCore=0.;
                             if(MetaCored&&morph<.5)hyperCore=cored*2./3.+log(length(freed(coords))*3./2.)*0.9551195-1.;
                             else if(MetaCored)hyperCore=(cored*2./3.+log(length(freed(coords))*3./2.)*0.9551195)*4./3.-1.;

                             float term=0.;
                               if(spirated!=0.)term=(1.-length(freed(coords)))*(3.-2.7182818);//if is spirated then oscillate the function's log between e and 3

                             for (float counter=0.;counter<41.;counter++)if(abs(s.y)<47.){
                                 if(hearTOL){
                                     
                                     if((mod(counter,3.)==1.))   for(float b=0.;b<2.;b++)  s= vec2(((s.x*s.x-s.y*s.y)-p.x+jc.x),(2.0*s.x*s.y-p.y+jc.y));//mandelbrot loop factored into real and imaginary components from z<=z^2-g
                                       
                                    // if(mod(counter,7.)==4.)s=vec2(-1./((s.x*s.x-s.y*s.y)-p.x),(2.0*s.x*s.y-p.y));//mandelbrot loop factored into real and imaginary components from z<=z^2-g

    
                                  }

                                if(spirated!=0.&&length(s)<2./3.)   s*=length(s)*6.28/(atan(s.y,s.x)+3.14159);
                                                                                   

                                s=vec2(s.x*s.x*s.x  - 3.*s.x*s.y*s.y-t.x, -s.y*s.y*s.y+ 3.*s.x*s.x*s.y-t.y);//x**3
                                s.x=log(abs(s.x))/log(3.-term);

                               float d = length(s);
                               if(d<1.5&&petals!=0.)s=spin2(s,atan(s.y,s.x)*petals/6.);

                               for(int i=0;i<69; i++)if(MetaCored&&d<2./3.&& loops+counter<hyperCore && length(freed(coords))<1.5)
                                  {

                                  float wise;
                                  if(mod(float(i),4.)==0.)wise=1.;
                                  else if(mod(float(i),4.)==1.)wise=-1.;
                                  else  if(mod(float(i),4.)==2.)wise= -1.;
                                  else  if(mod(float(i),4.)==3.)wise=1.;
                                  
                                  float shift=2.;s*=shift;d*=shift;loops++;

                                  if(metaCarousel!=0.)s=spin2(s,time*rate*wise*metaCarousel*(1.+petals/6.));

                               }
                            else break;


                          }
                            else break;
                             vec3 o=vec3(s.y);
                             if(colorCombo==7) o=vec3(s.y,s.x/9.5,1.-s.x/12.);
                             else if(colorCombo==2) o=vec3(s.y/100.-s.x*s.y/888.+s.y/50000.,s.x/8.-s.y/s.x/2000.,1.-s.x/20.+s.y/50000.);
                             else if(colorCombo==3) o= vec3(s.x/8.-s.y/s.x/7000.,1.-s.x/16.,s.y/100.);
                             else if(colorCombo==4) o= vec3(1.-s.x/20.,s.x/8.-s.y/s.x/2000.,s.y/35.-s.x*s.y/888.);
                             else if(colorCombo==5)  o=vec3(s.y/40.-s.x*s.y/888.,1.-s.x/21.,s.x/6.-s.y/s.x/2000.);
                             else if(colorCombo==6) o=  vec3(-sin(time*1.)*s.y/100.-sin(time*gr)*s.x*s.y/888.,s.x/8.-sin(time*(-gr+1.))*s.y/s.x/2000.,1.-sin(time*(gr+1.))*s.x/20.);
                            else if(colorCombo==1) {
                                      o= (1.-(vec3(s.y/125.-s.x*s.y/888.+s.y/25000.,s.x/8.-s.y/s.x/2000.-s.y/25000.,1.-s.x/20.+s.y/25000.)
                                                   *vec3(1.-s.x/20.,s.x/8.-s.y/s.x/2000.,s.y/35.-s.x*s.y/888.)
                                                   *vec3(s.y/40.-s.x*s.y/888.,1.-s.x/21.,s.x/6.-s.y/s.x/2000.)));
                                                        }
                  if(colorInverter==true){
                              o.x*=-sin(time);
                              o.y*=-sin(time*gr);
                              o.z*=-sin(time*1./gr);
                                }
                                                                              
    return clamp(o,0.,1.);}
 
          vec3 body(vec2 p, vec2 t){return torso(p,t)+musculature(p,t)+robe(p,t)+legs(p,t);}
          vec3 bod(vec2 p, vec2 t){t*=zoom;return body(p,t)+heart(p,t);}
          vec3 manny(vec2 p, vec2 t){return body(p,t)+heart(p/1.5,t)+face(p,vec2(time,0.))*1.4+shiny(p,vec2(time,0.))/9.;}

          //function library: manny body legs robe musculature torso face excelsior shiny lion ox man eagle eaglePerched fourCreatures heart anomalyze spin
    void main(){
     vec2 p=-((vUv.yx)-.5)/(resolution.xy/max(resolution.x,resolution.y))*6.;
     
     
     
     vec2 spunC=coords.yx;
     
     if(carousel!=0.){spunC*=-1.;spunC=spin2(spunC,-carousel*mod(time*rate,3.1415927410125732*2.));}
     vec2 backGround=freed(p/2.*zoom+spunC);
     if(carousel!=0.)backGround=spin2(backGround,carousel*mod(time*rate,3.1415927410125732*2.));

                           backGround=spin2(backGround,atan(backGround.y,backGround.x)*petals/6.);
                           p.x+=.5;
    vec2 t =vec2(-sin(rate*time2dance)/50.,-sin(time2dance*(.618))/30.);
    vec2 dance = vec2(0.);
    if (morph>.5) dance = vec2(
                               -abs(length(-freed(coords))/(length(freed(coords))-zoom)) -(length(freed(coords))/(length(freed(coords))+zoom))*2./3.,
                                -((zoom*length(freed(coords)))/(length(freed(coords))+zoom)*sign(coords.y*coords.x)*(1.-length(freed(coords)*zoom)) )
                                  )
                                  ;
    
    vec3 zoomer=tol(backGround,dance);
    vec3 mny=manny(p,t);
    gl_FragColor=vec4(mny+
                      clamp(zoomer-(mny.r+mny.b+mny.g)*100.,.0,1.)
              ,1.);}
        </script>
        
    </body>
</html>
