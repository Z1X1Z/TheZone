<?php header('Cache-Control: max-age=31536000, public'); ?>
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Zone:X - Heart</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="main.css">
            <div id="allText">
                <div id="HK"></div>
                <div id="textWindow"></div>
            </div>

        <div id="container"></div>
        <script src="OFFLINEonlineSwitch.js"></script>

        <script src="starshipMod.js"></script>

</head>
<body>

    <!--SPLASH-->
    <div class=onofflineBG id="background_wrap"></div>
    <script>
        nf = document.querySelectorAll('.onofflineBG');
        if(window.online)nf[0].style = "background-image: url('https://cdn.jsdelivr.net/gh/Z1X1Z/zonex_jsdelivr/z1xlogo.png');"
        else nf[0].style = "background-image: url('z1xlogo.png');"
    </script>
    
<script id="threeJSscript" async></script>
<script id="wadJSscript" async></script>
<script src="hotkeys.js" async></script>
<script src="wadLoader.js"></script>
<script src="threeJSLoader.js"async></script>

		<script id="vertexShader" type="x-shader/x-vertex">

			varying vec2 vUv;
        		uniform vec2 coords;
       			uniform vec2 resolution;

			void main()	{

				vUv = uv;
				gl_Position = vec4( position, 1.0 );
			}
		</script>

		<script id="fragmentShader" type="x-shader/x-fragment">

			varying vec2 vUv;
			uniform vec2 coords;
       			uniform vec2 resolution;
			uniform float zoom;
            uniform float time;
            uniform float time2dance;
            uniform float morph;
            uniform int colorCombo;


void main(){
    float d=3.,thresh=5.;
    if(colorCombo==15){d=10.;thresh=19.;}
	vec2 p=-((vUv.yx)-.5)/(resolution.xy/max(resolution.x,resolution.y))*d*zoom;
            vec2 t=vec2(0.);
            if (morph>.5)t=vec2(-sin(time+time2dance),-sin((time+time2dance)*-1.618))*zoom+(coords.yx+.5)*log(pow(zoom,1.618))/log(1.618)*zoom*.25;

      
                              float c=3.58;
                              p+=coords.yx;
                              p.x+=.5;
                              p.y*=-1.;
                              if(colorCombo==18) p*=2.*c;
                              vec2 z=p;
      const float iterations =  12.*21.;
          for (float f=0.;f<iterations;f+=1.)if(length(z)>thresh&&colorCombo!=18)break;
          else{
              if(colorCombo==18)if(length(z)>c)z/=c;
              if(colorCombo==15)z=vec2(-1./(z.x*z.x-z.y*z.y-p.x+t.x), 2.0*z.x*z.y-p.y+t.y);//this is {s=s^2-p;s.real=-1./s.real}
              else z=vec2((z.x*z.x-z.y*z.y-p.x+t.x), 2.0*z.x*z.y-p.y+t.y);//this is {s=s^2-p}
      }
          gl_FragColor= (vec4(z.x*z.y,z.x+.2,z.y-.3*(1.-p.x),1.)+.3)*1./length(z);

            
            
    }

		</script>
        <script>window.zoomCageSize=2; window.spiroRainbow = true; window.mandelbrot=true;
</script>
        


	</body>
</html>
