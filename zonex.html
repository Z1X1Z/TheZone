<?php header('Cache-Control: max-age=31536000');header('Cache-Control: public'); ?>
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Zone:X - Sonic Starship</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="main.css">
            <div id="allText">
                <div id="HK"></div>
                <div id="textWindow"></div>
            </div>

        <div id="container"></div>

        <script src="starshipMod.js"></script>

</head>
<body>

    <script src="OFFLINEonlineSwitch.js"></script>
<script id="threeJSscript" async></script>
<script id="wadJSscript" async></script>
<script src="hotkeys.js" async></script>
<script src="threeJSLoader.js" async></script>
<script src="wadLoader.js"></script>

		<script id="vertexShader" type="x-shader/x-vertex">

			varying vec2 vUv;
        		uniform vec2 coords;
       			uniform vec2 resolution;

			void main()	{

				vUv = uv;
				gl_Position = vec4( position, 1.0 );
			}
		</script>

		<script id="fragmentShader" type="x-shader/x-fragment">

			varying vec2 vUv;
			uniform vec2 coords;
       			uniform vec2 resolution;
			uniform float zoom;
            uniform float time;
            uniform float time2dance;
            uniform float morph;
            uniform int colorCombo;



void main(){

	vec2 p=-((vUv.yx)-.5)/(resolution.xy/max(resolution.x,resolution.y))*2.*zoom;
            vec2 t=vec2(0.);
            if (morph>.5)t=vec2(-sin(time+time2dance),-sin((time+time2dance)*-1.618))*zoom+(coords.yx+.5)*log(pow(zoom,1.618))/log(1.618)*zoom*.5;
                                                
            //p.x+=.5;
            p+=coords.yx;
            p.y*=-1.;
            p+=t;
            vec2 z=p;
            vec3 h=vec3(0.);
            const int cycles = 300;
            for (int f=0;f<cycles;f+=1)if(abs(z.y)>10.)h=vec3(0.);
            else {z=vec2(((z.x*z.x-z.y*z.y)-p.x+t.x),(2.0*z.x*z.y-p.y+t.y));//mandelbrot loop factored into real and imaginary components from z<=z^2-g
                  h+=(vec3(z.x*z.y,z.x,z.y-.2*(1.-p.x))+.3)*2./float(cycles);}
                gl_FragColor=vec4(h,1.);
    }

		</script>
        <script>window.zoomCageSize=2; window.spiroRainbow = true; window.mandelbrot=true;
</script>
        


	</body>
</html>
