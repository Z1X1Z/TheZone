<?php header('Cache-Control: max-age=31536000, public'); ?>
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Zone:X - Heart</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="main.css">

        <script src="OFFLINEonlineSwitch.js"></script>

        <div id="allText">
            <div id="HK"></div>
            <div id="textWindow"></div>
        <script src="hotkeys.js" ></script>

        <div class="navbar">
					<div class="dropdown">
						<button class="dropbtn">Starship
							<i class="fa fa-caret-down"></i>
						</button>
						<div class="dropdown-content">
								<input type="checkbox" id="Game On" name="t"  onclick= "
										key  = 'e';
										callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
								 <label for="Game On">Game On!</label><br>
								<input type="checkbox" id="Star Arms" name="t"  onclick= "
										key  = ' ';
										callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
								 <label for="Star Arms">Star Arms!</label><br>
								 <input type="checkbox" id="Fullscreen" name="t"  onclick= "
										 key  = 'h';
										 callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
									<label for="Fullscreen">Fullscreen!</label><br>
									<input type="checkbox" id="Verbose" name="t"  onclick= "
											key  = 'v';
											callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
									 <label for="Verbose">Verbose!</label><br>
								 <input type="checkbox" id="Volume Speed" name="t"  onclick= "
										 key  = 'w';
										 callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
									<label for="Volume Speed">Volume Speed!</label><br>

								<input type="checkbox" id="Touch" name="t"  onclick= "
										key  = 't';
										callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
								 <label for="Touch">Touch!</label><br>
                                 
                                 
                                 
                                 <input type="checkbox" id="Note Stars" name="t"  onclick= "
                                     key  = 'P';
                                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                                  <label for="Note Stars">Note Stars!</label><br>
                                  
                                 <a id="Star Stream" name="t"  onclick= "

                                     key  = 'V';
                                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                                     Star Stream!</a><br>
                                 
                                 <a id="Clockwise Spin" name="t"  onclick= "

                                     key  = 'D';
                                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                                     Clockwise Spin!</a><br>
                                 
                                 <a id="Counter Clockwise Spin" name="t"  onclick= "

                                     key  = 'A';
                                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                                     Counter Clockwise Spin!</a><br>
                                 
                                 <a id="Shift Up" name="t"  onclick= "

                                     key  = 'W';
                                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                                     Shift Up!</a><br>
                                 <a id="Shift Down" name="t"  onclick= "

                                     key  = 'S';
                                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                                     Shift Down!</a><br>
                                 <a id="Star Spin" name="t"  onclick= "

                                     key  = 'Q';
                                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                                     Star Spin!</a><br>
								 <a id="Cancel Background Noise" name="t"  onclick= "

										 key  = 'p';
										 callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
										 Cancel Background Noise!</a><br>
								 <a id="Listen Out" name="t"  onclick= "
										 key  = 'o';
										 callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
								 listen Out!</a><br>
								 <a id="Listen In" name="t"  onclick= "
										 key  = 'i';
										 callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
								 listen In!</a><br>


								 <a id="Faster" name="t"  onclick= "
										 key  = '+';
										 callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
								 Faster!</a><br>
								 <a id="Slower" name="t"  onclick= "
										 key  = '-';
										 callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
								 Slower!</a><br>
								 <a id="Reset Speed" name="t"  onclick= "
										 key  = '0';
										 callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
								 Reset Speed!</a><br>

						</div>
						</div>


              <div class="dropdown">
                <button class="dropbtn">Mandelbrot
                  <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                       <label for="Center">Center</label><br>
                       <input type="checkbox" id="Zoom Static" name="t"  onclick= "
                           key  = 'l';
                           callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                        <label for="Zoom Static">Zoom Static</label><br>
                        <input type="checkbox" id="Color Iteration Flux" name="t"  onclick= "
                            key  = 'a';
                            callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                         <label for="Color Iteration Flux">Color Iteration Flux</label><br>
                         <input type="checkbox" id="Dancer" name="t"  onclick= "
                             key  = 's';
                             callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                          <label for="Dancer">Dancer!</label><br>



                            </div>
              </div>



          </div>
        </div>





          <script>let n = document.getElementsByName('t');
              for(var p = 0; p<n.length;p++)n[p].checked  = false; </script>



        <div id="container"></div>
        <script src="starshipMod.js"></script>





        <div id="score">

        <script id="osmdJS"></script> <!-- you need to provide the .js file, see README.md-->
        <div id="osmdCanvas"/>

        <input type="file" id="files"/>

        <output id="list"></output>

        <script src="fileSelectAndLoadOSMD.js"></script>

        </div id="score">



</head>
<body>

    <!--SPLASH-->
    <div class=onofflineBG id="background_wrap"></div>
    <script> nf = document.querySelectorAll('.onofflineBG');
        if(window.online)
        {
            if(Date.now()%2==1) nf[0].style = "background-image: url('https://cdn.jsdelivr.net/gh/Z1X1Z/zonex_jsdelivr@6/z1xlogo.png');"
            else nf[0].style = "background-image: url('https://cdn.jsdelivr.net/gh/Z1X1Z/zonex_jsdelivr/pentaloctalwtTtlzonexmonogram.jpeg');"
       }
        else
        {
            if(Date.now()%2==1)nf[0].style = "background-image: url('z1xlogo.png');"
            else nf[0].style = "background-image: url('pentaloctalwtTtlzonexmonogram.jpeg');"
            }
    </script>

<script id="threeJSscript" async></script>
<script id="wadJSscript" async></script>
<script src="wadLoader.js"></script>
<script src="threeJSLoader.js"async></script>

		<script id="vertexShader" type="x-shader/x-vertex">

			varying vec2 vUv;
        		uniform vec2 coords;
       			uniform vec2 resolution;

			void main()	{

				vUv = uv;
				gl_Position = vec4( position, 1.0 );
			}
		</script>

		<script id="fragmentShader" type="x-shader/x-fragment">

			varying vec2 vUv;
			uniform vec2 coords;
       			uniform vec2 resolution;
			uniform float zoom;
            uniform float time;
            uniform float time2dance;
            uniform float morph;
            uniform int colorCombo;


void main(){
    float d=3.,thresh=5.;
    if(colorCombo==15){d=10.;thresh=19.;}
	vec2 p=-((vUv.yx)-.5)/(resolution.xy/max(resolution.x,resolution.y))*d*zoom;
            vec2 t=vec2(0.);
            if (morph>.5)t=vec2(-sin(time2dance/10.),-sin((time2dance/10.)*-1.618))*zoom+(coords.yx+.5)*log(pow(zoom,1.618))/log(1.618)*zoom*.25;


                              float c=3.58;
                              p+=coords.yx;
                              p.x+=.5;
                              p.y*=-1.;
                              if(colorCombo==18) p*=2.*c;
                              vec2 z=p;
                              vec2 lz;
      const float iterations =  21.*21.;
          for (float f=0.;f<iterations;f+=1.)if(f>(-sin(time/4.)+1.)/2.*iterations*.25+.75||colorCombo!=11){if(length(z)>thresh&&colorCombo!=18)break;
          else{
              lz=z;
              if(colorCombo==18)if(length(z)>c)z/=c;
              if(colorCombo==15)z=vec2(-1./(z.x*z.x-z.y*z.y-p.x+t.x), 2.0*z.x*z.y-p.y+t.y);//this is {s=s^2-p;s.real=-1./s.real}
              else z=vec2((z.x*z.x-z.y*z.y-p.x+t.x), 2.0*z.x*z.y-p.y+t.y);//this is {s=s^2-p}
      }}

          gl_FragColor= (vec4(z.x*z.y,z.x+.2,z.y-.3*(1.-p.x),1.)+.3)/length(z);



    }

		</script>
        <script>window.zoomCageSize=2; window.spiroRainbow = true; window.mandelbrot=true;
</script>



	</body>
</html>
