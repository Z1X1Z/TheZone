<?php header('Cache-Control: max-age=31536000, public'); ?>

<!DOCTYPE html>
<html lang="en">
    <head>
        <script>

            window.userHasGestured = false;
            </script>
        <title>Starship~Zone:X</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link type="text/css" rel="stylesheet" href="main.css">
</head>
        
        <body oncontextmenu="return false;"><!--disable right click solution from
                                        https://stackoverflow.com/questions/381795/how-to-disable-right-click-context-menu-in-javascript  -->
        <div id="load message" style="font-size:40px; background-color:blue;">     </div>
        
        <script>
            function loadScript(element, url, offlineURL)
            {
                // Adding the script tag to the head as suggested before
                var scriptElement = document.getElementById(element);//document.createElement("script");//
                scriptElement.type = 'text/javascript';
                scriptElement.src = url;
                //script.onreadystatechange = callback;                // Then bind the event to the callback function.  or at least that's how it goes without the stallLurker in the sonicstarship.  it's stabler. maybe
                //script.onload = callback;                // There are multiple callbacks for cross browser compatibility.
                scriptElement.onerror=function(){
                    var s = document.createElement("script");//document.getElementById('threeJSscript');
                    s.type = 'text/javascript';
                    s.src = offlineURL;
                    document.head.appendChild(s);
                    }
            }
          </script>



        <script src="OFFLINEonlineSwitch.js"></script>
        
        <script id="threeJSscript"></script>
        <!--Deprecates with v160 of threejs
        <script>
        var cdnSwitchThree="three.js";
        //if (window.useCDN)cdnSwitchThree="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js";
        if (window.useCDN)cdnSwitchThree="https://cdn.jsdelivr.net/gh/Z1X1Z/zonex_jsdelivr/three.min.js";
        loadScript("threeJSscript",cdnSwitchThree,"three.js")
        </script>
        -->
        <script id="shim"></script> <!-- you need to provide the .js file, see README.md-->
        <script>
        var cdnSHIM="opensheetmusicdisplay.min.js";
        if (window.useCDN)cdnSHIM="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js";
        loadScript("shim",cdnSHIM,"")
        </script>
       
        <script type="importmap">
          {
            "imports": {
              "three": "https://unpkg.com/three@v0.153.0/build/three.module.js"
            }
          }
        </script>
        
        <script id="osmdJS"></script> <!-- you need to provide the .js file, see README.md-->
        <script>
        var cdnOSMD="opensheetmusicdisplay.min.js";
        if (window.useCDN)cdnOSMD="https://unpkg.com/opensheetmusicdisplay@1.7.6/build/opensheetmusicdisplay.min.js";
        loadScript("osmdJS",cdnOSMD,"opensheetmusicdisplay.min.js")
        </script>
        
        <script id="wadJSscript"></script>
        <script>
        var cdnSwitchWAD="wad.min.js";
        if (window.useCDN)cdnSwitch="https://unpkg.com/web-audio-daw@4.12.0";
        
        function wrapperLurker(){
            if (userHasGestured)        loadScript("wadJSscript",cdnSwitchWAD,"wad.min.js")
            else        setTimeout(wrapperLurker,100);
        }
            wrapperLurker();
        </script>

        <!-- removing this script may fix android no load bug, but I'm testing z ordering in css        -->

        <div id="background_wrap">
               <script>
                   //splash
                   let nf = document.getElementById('background_wrap');
                   if(window.online)
                   {
                       if(Date.now()%2==1) nf.style = "background-image: url('https://cdn.jsdelivr.net/gh/Z1X1Z/zonex_jsdelivr@6/z1xlogo.png');"
                       else nf.style = "background-image: url('https://cdn.jsdelivr.net/gh/Z1X1Z/zonex_jsdelivr/pentaloctalwtTtlzonexmonogram.jpeg');"
                  }
                   else
                   {
                       if(Date.now()%2==1)nf.style = "background-image: url('z1xlogo.png');"
                       else nf.style = "background-image: url('pentaloctalwtTtlzonexmonogram.jpeg');"
                       }
                   
               </script>
               
           </div>


           


    <div  class="navbar" >
        
            <div id="menu" style="display:none;">

        <div >
        <div class="dropdown">
          <button class="dropbtn">Starship
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="dropdown-content">
              <!--https://www.w3schools.com/tags/att_input_type_number.asp this is the link for the below number code profile-->
            <!--  <label for="pitch Sample Size">pitch detection frames (1-2048):</label>
             <input type="number" id="pitch Sample Size" name="pitch Sample Size" class="num" min="1" max = "2048" onkeydown="Math.floor(fractionOfFrame=document.getElementById('pitch Sample Size').value)">
                 </p>
            -->
            <label for="ConcertKey">THE A Key Frequency (Should probably be "Concert A" 440 hz):</label>
           <input type="number" id="ConcertKey" name="ConcertKey" class="num" onkeydown="window.ConcertKey=document.getElementById('ConcertKey').value">
               <br>
               <label for="RadialWarp">Magnify rate of the octave, radially by 1/</label>
              <input type="number" id="RadialWarp" name="RadialWarp" class="num" onkeydown="
                    let b=document.getElementById('RadialWarp').value;
                    if(!isNaN(b)&&b>0)radialWarp=b;">
                  <br>
                  <label for="fretCount">Fruits</label>

                  <input type="number" id="fretCount" name="fretCount" class="num" onkeydown="
                                                      number= document.getElementById('fretCount').value;
                                                      key  = 'a';
                    if(!isNaN(number)&&number>1){
                                                      callKey(new KeyboardEvent('keydown', {'key':key, 'keyCode':key.charCodeAt(0)}));
                                                scene.remove(starMesh)
                                                        starGeometry = new THREE.BufferGeometry();
                                                         starGeometry.dynamic = true;
                                                         
                                                         starGeometry.setAttribute('position', new THREE.Float32BufferAttribute( star,3 ));
                                                         starGeometry.setAttribute( 'color', new THREE.Float32BufferAttribute( starColors, 4 ));
                                                        starMesh = new THREE.Mesh(starGeometry, starMaterial);
                                                    scene.add(starMesh)
}


">

                      <br>
               <input type="checkbox" id="DotStar" name="t"  onclick= "uniforms.starOnDot.value=!uniforms.starOnDot.value;">
               <label for="DotStar">Dot has Starship!?</label>
               <br>
               
               <input type="checkbox" id="Haptic" name="t"  onclick= "window.haptic = !window.haptic; mcphrth();">
               <label for="Haptic">Haptic(Android only)</label>
               <br>
              <input type="checkbox" id="Game On" name="t"  onclick= "
                  key  = 'e';
                  callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
               <label for="Game On">Game On!</label><br>
              <input type="checkbox" id="Star Arms" name="t"  onclick= "
                  key  = '~';
                  callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
               <label for="Star Arms">Star Arms!</label><br>
               <input type="checkbox" id="Fullscreen" name="t"  onclick= "
                   key  = 'h';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                <label for="Fullscreen">Fullscreen!</label><br>
                <input type="checkbox" id="Verbose" name="t"  onclick= "
                    key  = 'v';
                    callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                 <label for="Verbose">Verbose!</label><br>
               <input type="checkbox" id="Volume Speed" name="t"  onclick= "
                   key  = 'w';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                <label for="Volume Speed">Volume Speed!</label><br>

              <input type="checkbox" id="Touch" name="t"  onclick= "
                  key  = 't';
                  callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
               <label for="Touch">Touch!</label><br>
               
               <input type="checkbox" id="Note Stars" name="t"  onclick= "
                   key  = 'P';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                <label for="Note Stars">Note Stars!</label><br>
                
                <input type="checkbox" id="StarClover" name="t"  onclick= "
                    key  = 'O';
                    callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                 <label for="StarClover">Star in Clover!</label><br>
                 
                 
                 <input type="checkbox" id="TrailOverflowsClover" name="t"  onclick= "
                     key  = 'Z';
                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                  <label for="TrailOverflowsClover">Trail overflows clover!</label><br>
                
                
               <a id="pzyghthe" name="t"  onclick= "

                   key  = '9';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                   Harmonic Scale!</a><br>
               
               <a id="Star Stream" name="t"  onclick= "

                   key  = 'V';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                   Star Stream!</a><br>
               
               <a id="Clockwise Spin" name="t"  onclick= "

                   key  = 'D';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                   Clockwise Spin!</a><br>
               
               <a id="Counter Clockwise Spin" name="t"  onclick= "

                   key  = 'A';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                   Counter Clockwise Spin!</a><br>
               
               <a id="Shift Up" name="t"  onclick= "

                   key  = 'W';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                   Shift Up!</a><br>
               <a id="Shift Down" name="t"  onclick= "

                   key  = 'S';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                   Shift Down!</a><br>
               <a id="Star Spin" name="t"  onclick= "

                   key  = 'Q';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                   Star Spin!</a><br>
               
               
               <a id="Cancel Background Noise" name="t"  onclick= "

                   key  = 'p';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                   Cancel Background Noise!</a><br>
               
               
               <a id="Listen Out" name="t"  onclick= "
                   key  = 'o';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
               listen Out!</a><br>
               <a id="Listen In" name="t"  onclick= "
                   key  = 'i';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
               listen In!</a><br>


               <input type="radio" id="High Tolerance" name="tolerance" onclick="window.highORlow = 2">
               <label for="High Tolerance">High Tolerance</label><br>
           <input type="radio" id="Low Tolerance" name="tolerance" onclick="uniforms[ 'colorCombo' ].value=1;">
           <label for="Low Tolerance">Low Tolerance</label><br>
           
           
               <a id="Faster" name="t"  onclick= "
                   key  = '=';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
               Faster!</a><br>
               <a id="Slower" name="t"  onclick= "
                   key  = '-';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
               Slower!</a><br>
               <a id="Reset Speed" name="t"  onclick= "
                   key  = '0';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
               Reset Speed!</a><br>

               <input type="radio" id="1 Rivers" name="eden" onclick="uniforms.eden.value = 0">
               <label for="1 Rivers">1 Rivers</label><br>
               
               <input type="radio" id="5 Rivers in Clover" name="eden" onclick="uniforms.eden .value= 1">
               <label for="5 Rivers in Clover">5 Rivers in Clover</label><br>
               
               <input type="radio" id="5 Rivers" name="eden" onclick="uniforms.eden.value = 2">
               <label for="5 Rivers">5 Rivers Up Top</label><br>
               <a id="Stegosaurus" name="t"  onclick= "
                   key  = '}';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                   Stegasaurus!</a><br>
               
               <a id="MannyOnTrail" name="t"  onclick= "
                   key  = 'E';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                   Manny On Trail!</a><br>

          </div>
          </div>
        <div class="dropdown">
          <button class="dropbtn">Clovers
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="dropdown-content">

              <a id="Chirality" name="t"  onclick= "
                  key  = '|';
                  callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                  Flop Chirality!</a><br>
                 <a id="Add a petal" name="t"  onclick= "
                     key  = 'u';
                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                 Add a petal!</a><br>
                 <a id="Remove a petal" name="t"  onclick= "
                     key  = 'y';
                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                 Remove a petal!</a><br>
                 <!--https://www.w3schools.com/tags/att_input_type_number.asp this is the link for the below number code profile-->
                 <label for="petalCount">Petal Quantity:</label>
                <input type="number" id="petalCount" name="petalCount" class="num" onkeydown="uniforms.petals.value=document.getElementById('petalCount').value-6.">
                    </p>
                    <label for="coringConstant">Coring Constant (.5-2.):</label>
                   <input type="number" id="coringConstant" name="coringConstant" class="num" onkeydown=
                       "coreData.fill(document.getElementById('coringConstant').value)">
                       </p>

                       <input type="checkbox" id="dynamicCoring" name="t"  onclick= "
                    key  = 'c';
                    callKey(new KeyboardEvent('keydown', {'key': key,'ctrlKey':true, 'keyCode':key.charCodeAt(0)}));">
                 <label for="dynamicCoring">Dynamic Coring</label><br>
                 
                       <input type="checkbox" id="Center" name="t"  onclick= "
                    key  = 'c';
                    callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                 <label for="Center">Center</label><br>
                 <input type="checkbox" id="Zoom Static" name="t"  onclick= "
                     key  = 'l';
                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                  <label for="Zoom Static">Zoom Static</label><br>
                  <input type="checkbox" id="Clovers Pop" name="t"  onclick= "
                      key  = 'n';
                      callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                   <label for="Clovers Pop">Clovers Pop?!</label><br>
                   
                   <input type="checkbox" id="Clovers Slide" name="t"  onclick= "
                       key  = 'H';
                       callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                    <label for="Clovers Slide">Clovers Slide!</label><br>
                    
                    <input type="checkbox" id="Dancer" name="t"  onclick= "
                       key  = 's';
                       callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                       
                    <label for="Dancer">Dancer!</label><br>
                    
                    <input type="checkbox" id="multiplicatorNexus" name="t"  onclick= "uniforms.multiplicatorNexus.value=!uniforms.multiplicatorNexus.value">
                        <label for="multiplicatorNexus">Slippery Spokes!</label><br>

                         <input type="checkbox" id="Reverse Colors" name="t"  onclick= "
                             key  = ';';
                             callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                          <label for="Reverse Colors">Reverse Colors!</label><br>

                          <input type="checkbox" id="Remediate Colors" name="t"  onclick= "
                              key  = 'R';
                              callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                           <label for="Remediate Colors">Remediate Colors!</label><br>

                           <input type="checkbox" id="Inherited Colors" name="t"  onclick= "
                               key  = 'K';
                               callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                            <label for="Inherited Colors">Inherited Colors!</label><br>


                            <input type="checkbox" id="Radial Rainbow Clover" name="t"  onclick= "
                                key  = 'M';
                                callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                             <label for="Radial Rainbow Clover">Radial Rainbow Clover!</label><br>


                           <input type="checkbox" id="Refractelate" name="t"  onclick= "
                               key  = '!';
                               callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                            <label for="Refractelate">Refractelate!</label><br>


                            <input type="checkbox" id="Clovoid" name="t"  onclick= "
                                key  = '@';
                                callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                             <label for="Clovoid">Clovoid!</label><br>
                             
                             <input type="checkbox" id="144000" name="t"  onclick= "
                                 key  = 'J';
                                 callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                              <label for="Clovoid">144000!</label><br>
                              <input type="checkbox" id="Spoker" name="t"  onclick= "
                                  key  = 'T';
                                  callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                               <label for="Spoker">Spoker!</label><br>
                               <input type="checkbox" id="SpokeLove" name="t"  onclick= "
                                   key  = 'F';
                                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                                <label for="SpokeLove">Spoke Love!</label><br>
                                
                                <input type="checkbox" id="Continuum Clover" name="t"  onclick= "
                                    key  = '&';
                                    callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                                 <label for="Continuum Clover">Continuum Clover!</label><br>
                                 <a id="ReFactor" name="t"  onclick= "
                                     key  = '8';
                                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                                 ReFactor Clover!</a><br>
                                  
                                  <label for="Base Number">Log this of x^3 (maybe 1.5-4:</label>
                                 <input type="number" id="Base Number" name="Base Number" class="num" onkeydown="uniforms.baseN.value=document.getElementById('Base Number').value">
                                     </p>
                       
                                 
                <form>

                      <input type="radio" id="OriginalOrange" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=-7;">
                      <label for="OriginalOrange">Original Orange!</label><br>
                  <input type="radio" id="GreenAndPink" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=-2;">
                  <label for="GreenAndPink">Green and Pink!</label><br>
                  <input type="radio" id="OddOrange" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=-3;">
                  <label for="OddOrange">Odd Orange!</label><br>
                  <input type="radio" id="YellowAndPurple" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=-4;">
                  <label for="YellowAndPurple">Yellow and Purple!</label><br>

                  <input type="radio" id="BlueAndPink" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=-5;">
                  <label for="BlueAndPink">Blue and Pink!</label><br>

                  <input type="radio" id="Glowing" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=-6;">
                  <label for="Glowing">Glowing!</label><br>

                    <input type="radio" id="Rainbow" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=-1;">
                    <label for="Rainbow">Rainbow!</label><br>

                      <input type="radio" id="Inheritance" name="colorMode" onclick="uniforms[ 'colorCombo' ].value=-8;">
                      <label for="Inheritance">Inheritance!</label><br>
                </form>

                <br>


                <form>
                  <input type="radio" id="Up" name="carousel" onclick="uniforms[ 'carousel' ].value=-1;">
                  <label for="Up">Carousel Up!</label><br>
                  <input type="radio" id="Down" name="carousel" onclick="uniforms[ 'carousel' ].value=1;">
                  <label for="Down">Carousel Down!</label><br>
                  <input type="radio" id="Off" name="carousel" onclick="uniforms[ 'carousel' ].value=0;">
                  <label for="Off">Carousel Off</label>

                </form>
                <br>

                <form>
                  <input type="radio" id="mUp" name="mcarousel" onclick="uniforms[ 'metaCarousel' ].value=-1;">
                  <label for="mUp">Meta-Carousel Wise One!</label><br>
                  <input type="radio" id="mDown" name="mcarousel" onclick="uniforms[ 'metaCarousel' ].value=1;">
                  <label for="mDown">Meta-Carousel Wise 2!</label><br>
                  <input type="radio" id="mOff" name="mcarousel" onclick="uniforms[ 'metaCarousel' ].value=0;">
                  <label for="mOff">Meta-Carousel Off</label>
                </form>
                <br>

            <form>
              <input type="radio" id="SpirallizeOriginal" name="Spirallize" onclick="uniforms[ 'spirated' ].value=1;">
              <label for="SpirallizeOriginal">Spirallize Original!</label><br>
              <input type="radio" id="SpirallizeMirror" name="Spirallize" onclick="uniforms[ 'spirated' ].value=-1;">
              <label for="SpirallizeMirror">Spirallize Mirror!</label><br>
              <input type="radio" id="SpirallizeOff" name="Spirallize" onclick="uniforms[ 'spirated' ].value=0;">
              <label for="SpirallizeOff">Spirallize Off</label>

            </form>

                      </div>
        </div>
        
        <div class="dropdown">
          <button class="dropbtn">Extras
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="dropdown-content">
               <input type="checkbox" id="Friends" name="t"  onclick= "
                   key  = 'f';
                   callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                <label for="Friends">Friends!</label><br>
                <input type="checkbox" id="Bridge" name="t"  onclick= "
                    key  = 'z';
                    callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                 <label for="Bridge">Bridge!</label><br>
                 <input type="checkbox" id="Wheel" name="t"  onclick= "
                     key  = 'm';
                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                  <label for="Wheel">Wheel!</label><br>
                  
                  <input type="checkbox" id="Articles" name="t"  onclick= "
                      key  = 'G';
                      callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                   <label for="Articles">Articles!</label><br>
                    
                    <input type="checkbox" id="Dynamic Dance" name="t"  onclick= "
                        key  = 'X';
                        callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                     <label for="Dynamic Dance">Dynamic Dance!</label><br>
                     
                     <input type="checkbox" id="Feedback Voice" name="t"  onclick= "window.FeedbackSound =  !window.FeedbackSound;">
                      <label for="Feedback Voice">Feedback Voice!(regulated by System Volume)</label><br>
                     
                     <input type="checkbox" id="Blank Background" name="t"  onclick= "
                         key  = 'Y';
                         callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                      <label for="Blank Background">Blank Background!</label><br>
                      
                 <a id="Cycle Character" name="t"  onclick= "
                     key  = 'U';
                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                     Cycle character!</a><br>
                 
            <a id="Music Angel Man" name="t"  onclick= "
                key  = '7';
                callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                Music Angel Man!</a><br>
                 <a id="Metronome Up" name="t"  onclick= "
                     key  = '.';
                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                     Metronome Up!</a><br>

                 <a id="Metronome Down" name="t"  onclick= "
                     key  = ',';
                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                     Metronome Down!</a><br>

                 
                 <a id="Just Face" name="t"  onclick= "
                     key  = '*';
                     callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                     Just Face!</a><br>
                 
                  <a id="Manny" name="t"  onclick= "
                      key  = 'g';
                      callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                      Manny!</a><br>


                  <a id="Acrostic" name="t"  onclick= "
                      key  = '$';
                      callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                      Acrostic!</a><br>

                   <a id="ToLToK" name="t"  onclick= "
                       key  = 'd';
                       callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                       ToLToK!</a><br>

                    <a id="Mandelbrot" name="t"  onclick= "
                        key  = 'a';
                        callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                        Mandelbrot!</a><br>

                     <a id="Refractelbrot" name="t"  onclick= "
                         key  = 'r';
                         callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                         Refractelbrot!</a><br>

           <a id="XSquared" name="t"  onclick= "
               key  = 'x';
               callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
               XSquared!</a><br>

         <a id="ToLX" name="t"  onclick= "
             key  = 'b';
             callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
             ToLX!</a><br>
         
               
               
        </div>
    </div>
        
        <div class="dropdown">
          <button class="dropbtn">Resolution
            <i class="fa fa-caret-down"></i>
          </button>
          <div id="resolutionDropContent" class="dropdown-content" style="column-count: 1">
              <br>
              <label for="rez">Pixels per pixel</label>
             <input type="number" id="rez" name="rez" class="num" onkeydown="
                            rez=window.devicePixelRatio/document.getElementById('rez').value
                            renderer.setPixelRatio( rez);
                            ">
                 <br>
                 
                  <input type="radio" id=".5rez" name="colorMode" onclick="
                  key  = '`';
                  callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                  <label for=".5rez">.5 of a pixel per pixel (Apple Only)</label><br>
                  <input type="radio" id="1rez" name="colorMode" onclick="
                  key  = '1';
                  callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                  <label for="1rez">1 pixel per pixel</label><br>
                  <input type="radio" id="2rez" name="colorMode" onclick="
                  key  = '2';
                  callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                  <label for="2rez">2 pixels per pixel</label><br>
                  <input type="radio" id="3rez" name="colorMode" onclick="
                  key  = '3';
                  callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                  <label for="3rez">3 pixels per pixel</label><br>
                  <input type="radio" id="4rez" name="colorMode" onclick="
                  key  = '4';
                  callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                  <label for="4rez">4 pixels per pixel</label><br>
                  <a id="Incrementally Increase Resolution" name="t"  onclick="
                  key  = '_';
                  callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                      Refine resolution!</a><br>
                  <a id="Incrementally Decrease Resolution" name="t"  onclick="
                  key  = '+';
                  callKey(new KeyboardEvent('keydown', {'key': key, 'keyCode':key.charCodeAt(0)}));">
                      Reduce resolution!</a><br>
                  
              </div>
                  </div>
        
        <script>//used for resetting column counts for screen porportion in onWindowResize in starshipMod
            var menuBoxes = document.getElementsByClassName("dropdown-content")
            var rezBox = document.getElementById("resolutionDropContent");
        </script>

        </div>
        <script src="fileSelectAndLoadOSMD.js"></script>
        
<div>
    <p>
        <div id="hotkeyHolder">
          <select name="song" id="song"
              onchange='
                if(this.value!="none"){
                    loadScore(this.value)

                    if (uniforms.scoreLoaded.value) osmd.clear();
                    uniforms.scoreLoaded.value=true;
                }
                else{
                    osmd.clear();
                    document.getElementById("osmdCanvas").innerHTML=""; osmd=null; adjustThreeJSWindow();
                        uniforms.scoreLoaded.value=false;
                    }'
                    >
              <option value='none'>
                  None
              </option>
            <option value="https://cdn.jsdelivr.net/gh/Z1X1Z/zonex_jsdelivr/JesusChristisRisenToday.xml">
                Jesus Christ is Risen Today
            </option>
            <option value="https://cdn.jsdelivr.net/gh/Z1X1Z/zonex_jsdelivr/Amazing_Grace.mxl">
                Amazing Grace
            </option>
          </select>
          <label for="song"> :song</label>

          <script> document.getElementById('song').value = "none";</script>
             
             <input type="checkbox" id="ScoreTranslucent" name="t"  onclick= '
           sheetTranslucent=!sheetTranslucent;

   
        if (sheetTranslucent) {
                   document.getElementById("textWindow").style="position:fixed; margin-left:50%;";

                       if("osmd" in window && typeof osmd != null)  osmd.EngravingRules.PageBackgroundColor = "#ffffff00";//translucent background
                                  document.getElementById("osmdCanvas").style.bottom="40px"
        }
        else {   document.getElementById("textWindow").style="position:static;margin-left:0%;";

           if("osmd" in window && typeof osmd != null) osmd.EngravingRules.PageBackgroundColor = "#ffffffff";
                                     document.getElementById("osmdCanvas").style.bottom="0px"
                                bottomOfScreenHeight=0;

            }
   
                if("osmd" in window && typeof osmd != null){
                        osmdResize();
                        adjustThreeJSWindow();
                    }
   
   '>
              <label for="ScoreTranslucent">Score Translucent</label>
              <input type="file" id="files" >
                  <output id="list"></output>
              
              </div>
</div>
              
    </div>

    </div>
    <script>let n = document.getElementsByName('t');
        for(var p = 0; p<n.length;p++)n[p].checked  = false; </script>
    
    
    
    

    
    <div id="container"> </div>
    
    <script src="wadLoader.js"> </script>
    
    <div class="onBottom" style="text-align:right; width:100%;">
        
            <button onclick='
                let menu=document.getElementById("menu")
                if( menu.style.display=="block")  menu.style.display="none"
                else if( menu.style.display=="none")menu.style.display="block";'>Menu</button>
    </div>
    <div id="textWindow" class="onBottom" style="bottom:1em;"> </div>

    <div id="score">
        
            <div id="osmdCanvas" class="onBottom" style = "bottom:40px;"></div>

    </div id="score">
        <script>
        document.getElementById("files").addEventListener("change", handleFileSelect, false);
/*
        document.getElementById("score").onpointerdown=
        function(event){
          event.stopImmediatePropagation();
          event.preventDefault();
        };
 */
        </script>
    
    
    
    
    
    
    
    
    <script id="vertexShader" type="x-shader/x-vertex" >

        varying vec2 vUv;

    void main()    {

        vUv = uv;
        gl_Position = vec4( position, 1.0 );
    }
</script>


    <script id="wipeFragmentShader" type="x-shader/x-fragment">
        varying vec2 vUv;
        uniform sampler2D cloverSampler;
        
       void main(){
            gl_FragColor=texture2D(cloverSampler, vUv);;
        }
        </script>

    <script id="FourRiversfragmentShader" type="x-shader/x-fragment">
        varying vec2 vUv;
        uniform sampler2D STAR;
        uniform sampler2D EDEN;
        uniform vec2 loudestFret1;
        uniform vec2 loudestFret2;
        uniform vec2 loudestFret3;
        uniform vec2 loudestFret4;
        uniform vec2 d;
        uniform vec2 resolution;
        
        uniform float volumeFret1;
        uniform float volumeFret2;
        uniform float volumeFret3;
        uniform float volumeFret4;
        
        uniform int eden;

        const float PI = 3.1415927410125732;
        const float gr = 1.618033988749;
        float zin(float x){return -sin(x);}
        float coz(float x){return -cos(x);}
        
        
        vec2 spin2(vec2 f, float t)
        {    //https://en.wikipedia.org/wiki/Rotation_matrix
            float angle =t;
            float fxb=f.x;
            f.x=-f.x*coz(-angle)-f.y*zin(-angle);
         f.y=fxb*zin(-angle)-f.y*coz(-angle);
         return f;
        }
        
void main(){
        vec4 Pishon=vec4(0.),Gihon=vec4(0.),Tigris=vec4(0.),Euphrates=vec4(0.);
        vec2 vUvEagle=vec2(0.),vUvMan=vec2(0.),vUvOx=vec2(0.),vUvLion=vec2(0.);
        
            float cutOutDegree=1.;
            float atanD = atan(d.y,d.x);
            if(eden!=4)
       {
           vec2 vUv2 = vUv*2.;

                vUvEagle=vUv2-1.;
                vUvMan=vUv2;
                vUvOx=vUv2+vec2(0.,-1.);
                vUvLion=vUv2+vec2(-1.,0.);
       }
       else
       {
           vec2 scale = min(resolution.x,resolution.y)/resolution.yx;
           vec2 vUvScaled =(vUv-.5)*scale;
             vUvEagle = (vUvScaled*volumeFret1-loudestFret1/8.)/scale*2.+.5;
             vUvMan = (vUvScaled*volumeFret2-loudestFret2/8.)/scale*2.+.5;
             vUvOx = (vUvScaled*volumeFret3-loudestFret3/8.)/scale*2.+.5;
             vUvLion = (vUvScaled*volumeFret4-loudestFret4/8.)/scale*2.+.5;
    }
            if(abs(max(vUvEagle.x,vUvEagle.y))<1.&&min(vUvEagle.x,vUvEagle.y)>0.)
                        Pishon += texture2D(STAR,vUvEagle);
            if(abs(max(vUvOx.x,vUvOx.y))<1.&&min(vUvOx.x,vUvOx.y)>0.)Gihon+=texture2D(STAR,vUvOx);
            if(abs(max(vUvMan.x,vUvMan.y))<1.&&min(vUvMan.x,vUvMan.y)>0.) Tigris+=texture2D(STAR,vUvMan);
            if(abs(max(vUvLion.x,vUvLion.y))<1.&&min(vUvLion.x,vUvLion.y)>0.)Euphrates+=texture2D(STAR,vUvLion);
            vec4  TheFifthRiver = texture2D(STAR,vUv);

             gl_FragColor=clamp((Pishon+Gihon+Tigris+Euphrates)
                      // -TheFifthRiver//alpha blended
                       -TheFifthRiver
                       ,0.,1.)
    /vec4(vec3(1.5),1.)+TheFifthRiver;//vec4(vec3(2.),1.); //the divisor of the rivers is seemingly open to interpretation
    ;}
        </script>
<script id="fragmentShader" type="x-shader/x-fragment">
    varying vec2 vUv;
    uniform sampler2D STAR;
    uniform sampler2D EDEN;
    uniform sampler2D coreTextureSampler;
    uniform sampler2D omniDynamic;

    uniform int eden;

    uniform bool multiplicatorNexus;
    uniform bool squareClover;

    uniform int musicAngelMan;
    uniform bool fieldPowerBoost;
    uniform bool fieldPowerBoostMeta;
    uniform bool helm;
    uniform float refactorCores;

    uniform bool dynamicDance;
    uniform bool Spoker;
    uniform bool spokelover;
    uniform bool continuumClover;
    uniform bool cloverSlide;
    uniform float baseN;
    
    uniform bool Inherited;
    uniform bool spokesVisualizeColors;
    uniform vec2 coords;
    uniform bool starOnDot;
    uniform vec2 dotCoord;
    uniform vec2 d;

    uniform vec2 resolution;

    uniform int colorCombo;
    uniform bool colorInverter;
    
    uniform bool gameOn;
    uniform bool scoreLoaded;

    uniform float time;
    uniform float volume;
    uniform float totalAmp;

    uniform float rate;
    uniform float zoom;
    uniform float metronome;

    uniform float time2dance;
    uniform int fourCreats;
    uniform int Character;
    uniform bool articles;


    uniform bool MetaCored;//used for freezing current zoom level
    uniform bool outerCoresOff;//used for isolating coring to central core

    uniform bool free;

    uniform float morph;

    uniform float carousel;
    uniform float metaCarousel;
    uniform float petals;

    uniform float spirated;

    uniform bool hearTOL;

    uniform bool wheel;
    uniform bool Refractelate;
    uniform float centralCores;
    uniform float externalCores;
    uniform float upCoreCycler;

uniform bool Clovoid;
uniform bool remediatedColors;
uniform bool dotted;
uniform bool onehundredfortyfourthousand;
uniform float shaderScale;

uniform float starSpin;
uniform int chirality;

uniform int MannyONtrail;
uniform bool NightAndDay;
void main(){
                                  gl_FragColor=vec4(1.);

                                         }

</script>

<script src="starshipMod.js"></script>

              <script src="hotkeys.js"></script>
              <script src="loadMicrophone.js"></script>

    </body>
</html>
